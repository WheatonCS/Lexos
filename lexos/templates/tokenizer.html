{% extends "base_analyze.html" %}
{% set active_page = 'tokenizer' %}

{% block head %}
    <script type="module"
            src="{{ url_for('static', filename='js/scripts_tokenizer.js') }}?ver={{ version }}"></script>

    <!-- Latest compiled and minimized DataTables CSS -->
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-colvis-1.5.6/b-flash-1.5.6/b-html5-1.5.6/fc-3.2.5/fh-3.1.4/r-2.2.2/sc-2.0.0/datatables.min.css"/>

    <!-- Latest compiled and minimized DataTables JS -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-colvis-1.5.6/b-flash-1.5.6/b-html5-1.5.6/fc-3.2.5/fh-3.1.4/r-2.2.2/sc-2.0.0/datatables.min.js"></script>
    <!-- Datable plug in to truncate the columns. -->
    <script type="text/javascript"
            src="https://cdn.datatables.net/plug-ins/1.10.19/dataRender/ellipsis.js"></script>
{% endblock %}

{% block title %}Tokenizer{% endblock %}

{% block options %}
    <div class="row col-md-12 col-lg-12">
        <fieldset>
            <legend>Make new Document-Term Matrix:</legend>
            <input type="button" class="btn btn-success col-md-5 col-lg-5"
                   id="get_tokenizer" value="Show matrix"/>
            <input type="button" id="download_tokenizer" value="Download matrix"
                   class="btn btn-primary col-md-offset-1 col-lg-offset-1 col-md-5 col-lg-5"
                   data-toggle="modal" data-target="#download_modal"/>
        </fieldset>
        <label>
            <input id="orientation" name="orientation" style="display: none">
            <input id="trigger_download" type="submit" style="display: none">
        </label>
    </div>

    <!-- This modal will be triggered when download is clicked. -->
    <div class="modal fade" id="download_modal" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Download Matrix</h2>
                </div>
                <div class="modal-body">
                    <!-- Allow users to choose from two orientations. -->
                    <input class="btn btn-primary" type="button"
                           id="download_file_col" data-dismiss="modal"
                           style="display: block; margin: auto"
                           value="Documents as columns, Terms/Characters as rows">
                    <br>
                    <input class="btn btn-primary" type="button"
                           id="download_file_row" data-dismiss="modal"
                           style="display: block; margin: auto"
                           value="Documents as rows, Terms/Characters as columns">
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block results %}
    <div id="tokenizerResult" style="margin-top:30px">
        <table id="matrix" style="width: 100%"
               class="table text-center table-bordered table-striped display no-wrap">
        </table>
    </div>
{% endblock %}
